<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <script type="text/javascript">
    function checkCashRegister(price, cash, cid) {
      var change = cash-price;
      //console.log('change',change)
      var sumCid = 0;

      cid.forEach(function(val){
        sumCid += val[1]
      });
      sumCid = sumCid.toFixed(2);
      //console.log('sum',sumCid)

    //console.log(change >sumCid)
      if(change > sumCid) return 'Insufficient Funds';

      if(change == sumCid) return 'Closed';
      //  console.log('entr')
      //console.log(change > sumCid)
      if(change < sumCid){

        return changeFun(change,sumCid,cid)
      }

      function changeFun(change,sum,arr){

        var itemArr = [];
        var billArr = [];
        for(var i=arr.length-1;i>=0;i--){
          if(arr[i][1] ==0){
            continue;
          }

          // if(arr[i][1]<change){
          //   //newArr.push(arr[i]);
          //   change = (change-arr[i][1]).toFixed(2)
          //   //console.log(change)
          // } else {
          //   var x = arr[i][0];
          //   //console.log(x)
          //   var y = 0;
          //   //console.log(y)
          // }

          var x = arr[i][0];
          var y = 0;
        console.log('change',change)
          switch(x) {
            case "ONE HUNDRED":
              y = Math.floor(change / 100) * 100;
              console.log(y)
              break;
            case "TWENTY":
              y = Math.floor(change / 20) * 20;
              console.log(y)
              break;
            case "TEN":
              y = Math.floor(change / 10) * 10;
              console.log(y)
              break;
            case "FIVE":
              y = Math.floor(change / 5) * 5;
              console.log(y)
              break;
            case "ONE":
              y = Math.floor(change / 1);
              console.log(y)
              break;
            case "QUARTER":
              y = Math.floor(change / 0.25) * 0.25;
              console.log(y)
              break;
            case "DIME":
              y = Math.floor(change / 0.10) * 0.10;
              console.log(y)
              break;
            case "NICKEL":
              y = Math.floor(change / 0.05) * 0.05;
              console.log(y)
              break;
            case "PENNY":
              y = Math.floor(change / 0.01) * 0.01;
              console.log(y)
              break;
          }
          if(y ==0){
            continue;
          } else {
            if(y > a[i][1]){
             changeFun(y-a[i][1],sumCid,cid)
           } else {
               itemArr.push(arr[i][0],y);
               y-a[i][1]
           }

            billArr.push(itemArr);
            itemArr=[];
            console.log(billArr);
            break;
          }
          // if(y==0 && sumCid-arr[i][1]<change){
          //   return 'Insufficient Funds'
          // } else if(y==0){
          //   break;
          // } else {
          //   if(y<1){
          //     y = y;
          //   }
          // var arr1 = [];
          // arr1.push(arr[i][0]);
          // arr1.push(y);
          // arr1.push(arr1)
          // change -= y;
          // change = Number(change.toFixed(2));
          }
        }
        // if (change === 0) {
        //     console.log('newArr',newArr)
        //       return newArr;
        //   } else {
        //     console.log('Insufficient Funds')
        //    return "Insufficient Funds";
        //  }
        }
//console.log(sumCid)
//return change;
//}

checkCashRegister(3.26, 100.00, [["PENNY", 1.01], ["NICKEL", 2.05], ["DIME", 3.10], ["QUARTER", 4.25], ["ONE", 90.00], ["FIVE", 55.00], ["TEN", 20.00], ["TWENTY", 60.00], ["ONE HUNDRED", 100.00]])
    </script>
  </body>
</html>
