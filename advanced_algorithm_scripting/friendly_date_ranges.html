<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <script type="text/javascript">
      function makeFriendlyDates(arr) {
        var timeArr = [];

        var fromTime = arr[0];
        var toTime = arr[1];

        var fromTimeYear = fromTime.split('-')[0];
        var fromTimeMonth = fromTime.split('-')[1];
        var fromTimeDay = fromTime.split('-')[2];
        var fromTimeMonthTrans = transFromTime(fromTimeMonth);
        var fromTimeDayTrans = transFromTimeDay(fromTimeDay);

        var toTimeYear = toTime.split('-')[0];
        var toTimeMonth = toTime.split('-')[1];
        var toTimeDay = toTime.split('-')[2];
        var toTimeMonthTrans = transFromTime(toTimeMonth);
        var toTimeDayTrans = transFromTimeDay(toTimeDay);

        var fromTimeMonDay = fromTimeMonthTrans+' '+fromTimeDayTrans;
        var toTimeMonDay = toTimeDayTrans;

      if(new Date(fromTime).getTime() == new Date(toTime).getTime()){
        combineTime1(fromTimeYear,fromTimeMonthTrans);
        return;
      }
      if(new Date(toTime).getTime() - new Date(fromTime).getTime() <0){
        return;
      }
        combineTime(fromTimeYear,fromTimeMonthTrans,toTimeYear,toTimeMonthTrans);
        console.log(timeArr)
       return timeArr;

     //将月份转为英语
     function transFromTime(monthStr){
       switch(monthStr)
       {
         case '01':
           return 'January';
           break;
         case '02':
           return 'February';
           break;
         case '03':
           return 'March';
           break;
         case '04':
           return 'April';
           break;
         case '05':
           return 'May';
           break;
         case '06':
           return 'June';
           break;
         case '07':
           return 'July';
           break;
         case '08':
           return 'August';
           break;
         case '09':
           return 'September';
           break;
         case '10':
           return 'October';
           break;
         case '11':
           return 'November';
           break;
         case '12':
           return 'December';
           break;
       }
     }

    //将日期转为带后缀的
    function transFromTimeDay(dayStr){
      if(dayStr[0] == 0){
        dayStr = dayStr[1];
        //  console.log(dayStr)
      }
       if(dayStr[dayStr.length-1] == 1 && dayStr != 11){
           return dayStr+'st'
       } else if(dayStr[dayStr.length-1]==2){
         return dayStr+'nd';
       } else if(dayStr[dayStr.length-1]==3){
         return dayStr+'rd';
       } else {
         return dayStr+'th';
       }
    }

    //合成
    function combineTime(year1,month1,year2,month2){
      if(!(year1 == new Date().getFullYear())){
         fromTimeMonDay +=','+fromTimeYear;
      }
      if(!(year2 == new Date().getFullYear())){
         toTimeMonDay +=','+toTimeYear;
      }
      if(!(month1 == month2)){
         toTimeMonDay =month2+' '+toTimeMonDay;
      }
      timeArr.push(fromTimeMonDay,toTimeMonDay);
    }

    //合成1-日期区间相同
    function combineTime1(year1,month1){
      if(!(year1 == new Date().getFullYear())){
         fromTimeMonDay +=','+fromTimeYear;
      }
      timeArr.push(fromTimeMonDay);
      return timeArr;
    }
  }

makeFriendlyDates(["2001-12-20", "1991-12-20"])
    </script>
  </body>
</html>
